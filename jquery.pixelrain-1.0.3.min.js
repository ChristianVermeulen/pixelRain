(function(e){e.fn.pixelRain=function(t){var n=[],r=this.width()-30,i=this.height()-30,s=this;var o=e.extend({amount:100,interval:100,pixelColor:"#000000",pixelSize:1},t);var u=document.createElement("div"),a=e(u);a.css("width",r+"px").css("height",i+"px").css("position","absolute").css("top","15px").css("left","15px").css("z-index","-1000");this.append(a);while(o.amount--){var f=Math.floor(Math.random()*r+1),l=Math.floor(Math.random()*i+1),c=document.createElement("div"),h=e(c);h.css("width",o.pixelSize+"px").css("height",o.pixelSize+"px").css("background-color",o.pixelColor).css("position","absolute").css("left",f).css("top",l);n.push(h);a.append(h)}var p=function(){for(var t=0;t<n.length;t++){r=s.width()-30;i=s.height()-30;var o=Math.floor(Math.random()*r+1),u=Math.floor(Math.random()*i+1);e(n[t]).css("left",o).css("top",u)}};setInterval(p,o.interval)}})(jQuery)
